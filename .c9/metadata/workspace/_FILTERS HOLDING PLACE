{"filter":false,"title":"_FILTERS HOLDING PLACE","tooltip":"/_FILTERS HOLDING PLACE","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":85,"column":15},"action":"insert","lines":["\t\techo'<h2 class=\"ui sub header\">';\t","\t\tif(isset($_GET['searchBy']))","\t\t{","\t\t\t$searchBy = $_GET['searchBy'];","\t\t\t$sql = filterBySearch($searchBy);","\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t$row = getNext($paintingPdo);","\t\t\techo'Searched for titles and descriptions containing: '.$searchBy;\t\t","\t\t}","\t\telse if(isset($_GET['artist']))","\t\t{","\t\t\t$artistID = $_GET['artist'];","\t\t\t$museumID = $_GET['museum'];","\t\t\t$shapeID = $_GET['shape'];","","\t\t\t//Didn't read the spec close enough, all combinations of filters are here AND ARE STAYING","\t\t\tif($artistID != 0 && $museumID == 0 && $shapeID == 0) //filter by artist only","\t\t\t{","\t\t\t\t$sql=filterByArtist($artistID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'];\t\t\t\t","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID != 0 && $shapeID == 0) //museum only","\t\t\t{","\t\t\t\t$sql=filterByMuseum($museumID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Museum = '.$row['GalleryName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID == 0 && $shapeID != 0) //shape only","\t\t\t{","\t\t\t\t$sql=filterByShape($shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID != 0 && $shapeID != 0) //museum and shape","\t\t\t{","\t\t\t\t$sql=filterByMuseumShape($museumID,$shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Museum = '.$row['GalleryName'].' | ';","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID != 0 && $museumID == 0 && $shapeID != 0) //artist and shape","\t\t\t{","\t\t\t\t$sql=filterByArtistShape($artistID, $shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID != 0 && $museumID != 0 && $shapeID == 0) //artist and museum","\t\t\t{","\t\t\t\t$sql=filterByArtistMuseum($artistID, $museumID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Museum = '.$row['GalleryName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID == 0 && $shapeID == 0) //if user pressed filter with no values set","\t\t\t{","\t\t\t\t$sql=filterByNothing();","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'ALL PAINTINGS [TOP 20]';","\t\t\t}","\t\t\telse","\t\t\t{","\t\t\t\t$sql=filterByArtistMuseumShape($aritstID,$museumID,$shapeID); //filter by all\t\t","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Museum = '.$row['GalleryName'].' | ';","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t}","\t\telse","\t\t{","\t\t\t$sql=filterByNothing(); //<- what that says","\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t$row = getNext($paintingPdo);","\t\t\techo'ALL PAINTINGS [TOP 20]';","\t\t}\t","\t\techo '</h2>';"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":85,"column":15},"action":"remove","lines":["\t\techo'<h2 class=\"ui sub header\">';\t","\t\tif(isset($_GET['searchBy']))","\t\t{","\t\t\t$searchBy = $_GET['searchBy'];","\t\t\t$sql = filterBySearch($searchBy);","\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t$row = getNext($paintingPdo);","\t\t\techo'Searched for titles and descriptions containing: '.$searchBy;\t\t","\t\t}","\t\telse if(isset($_GET['artist']))","\t\t{","\t\t\t$artistID = $_GET['artist'];","\t\t\t$museumID = $_GET['museum'];","\t\t\t$shapeID = $_GET['shape'];","","\t\t\t//Didn't read the spec close enough, all combinations of filters are here AND ARE STAYING","\t\t\tif($artistID != 0 && $museumID == 0 && $shapeID == 0) //filter by artist only","\t\t\t{","\t\t\t\t$sql=filterByArtist($artistID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'];\t\t\t\t","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID != 0 && $shapeID == 0) //museum only","\t\t\t{","\t\t\t\t$sql=filterByMuseum($museumID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Museum = '.$row['GalleryName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID == 0 && $shapeID != 0) //shape only","\t\t\t{","\t\t\t\t$sql=filterByShape($shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID != 0 && $shapeID != 0) //museum and shape","\t\t\t{","\t\t\t\t$sql=filterByMuseumShape($museumID,$shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Museum = '.$row['GalleryName'].' | ';","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID != 0 && $museumID == 0 && $shapeID != 0) //artist and shape","\t\t\t{","\t\t\t\t$sql=filterByArtistShape($artistID, $shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID != 0 && $museumID != 0 && $shapeID == 0) //artist and museum","\t\t\t{","\t\t\t\t$sql=filterByArtistMuseum($artistID, $museumID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Museum = '.$row['GalleryName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID == 0 && $shapeID == 0) //if user pressed filter with no values set","\t\t\t{","\t\t\t\t$sql=filterByNothing();","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'ALL PAINTINGS [TOP 20]';","\t\t\t}","\t\t\telse","\t\t\t{","\t\t\t\t$sql=filterByArtistMuseumShape($aritstID,$museumID,$shapeID); //filter by all\t\t","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Museum = '.$row['GalleryName'].' | ';","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t}","\t\telse","\t\t{","\t\t\t$sql=filterByNothing(); //<- what that says","\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t$row = getNext($paintingPdo);","\t\t\techo'ALL PAINTINGS [TOP 20]';","\t\t}\t","\t\techo '</h2>';"],"id":2},{"start":{"row":0,"column":0},"end":{"row":150,"column":2},"action":"insert","lines":["\tfunction printPaintings($pdo)","\t{\t","\t\tsession_start();","\t\t$paintingsObject = unserialize($_SESSION['favPaintings']);","\t\t$favArray = $paintingsObject->getList();","\t\techo'<h2 class=\"ui sub header\">';\t","\t\tif(isset($_GET['searchBy']))","\t\t{","\t\t\t$searchBy = $_GET['searchBy'];","\t\t\t$sql = filterBySearch($searchBy);","\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t$row = getNext($paintingPdo);","\t\t\techo'Searched for titles and descriptions containing: '.$searchBy;\t\t","\t\t}","\t\telse if(isset($_GET['artist']))","\t\t{","\t\t\t$artistID = $_GET['artist'];","\t\t\t$museumID = $_GET['museum'];","\t\t\t$shapeID = $_GET['shape'];","","\t\t\t//Didn't read the spec close enough, all combinations of filters are here AND ARE STAYING","\t\t\tif($artistID != 0 && $museumID == 0 && $shapeID == 0) //filter by artist only","\t\t\t{","\t\t\t\t$sql=filterByArtist($artistID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'];\t\t\t\t","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID != 0 && $shapeID == 0) //museum only","\t\t\t{","\t\t\t\t$sql=filterByMuseum($museumID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Museum = '.$row['GalleryName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID == 0 && $shapeID != 0) //shape only","\t\t\t{","\t\t\t\t$sql=filterByShape($shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID != 0 && $shapeID != 0) //museum and shape","\t\t\t{","\t\t\t\t$sql=filterByMuseumShape($museumID,$shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Museum = '.$row['GalleryName'].' | ';","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID != 0 && $museumID == 0 && $shapeID != 0) //artist and shape","\t\t\t{","\t\t\t\t$sql=filterByArtistShape($artistID, $shapeID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t\telse if($artistID != 0 && $museumID != 0 && $shapeID == 0) //artist and museum","\t\t\t{","\t\t\t\t$sql=filterByArtistMuseum($artistID, $museumID);","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Museum = '.$row['GalleryName'];","\t\t\t}","\t\t\telse if($artistID == 0 && $museumID == 0 && $shapeID == 0) //if user pressed filter with no values set","\t\t\t{","\t\t\t\t$sql=filterByNothing();","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'ALL PAINTINGS [TOP 20]';","\t\t\t}","\t\t\telse","\t\t\t{","\t\t\t\t$sql=filterByArtistMuseumShape($aritstID,$museumID,$shapeID); //filter by all\t\t","\t\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t\t$row = getNext($paintingPdo);","\t\t\t\techo'Artist = '.$row['FirstName'].' '.$row['LastName'].' | ';\t","\t\t\t\techo'Museum = '.$row['GalleryName'].' | ';","\t\t\t\techo'Shape = '.$row['ShapeName'];","\t\t\t}","\t\t}","\t\telse","\t\t{","\t\t\t$sql=filterByNothing(); //<- what that says","\t\t\t$paintingPdo = getPDO($pdo, $sql);","\t\t\t$row = getNext($paintingPdo);","\t\t\techo'ALL PAINTINGS [TOP 20]';","\t\t}\t","\t\techo '</h2>';","\t\t","\t\t$dataCount = $paintingPdo->rowCount();","\t\t$maxPaintings = 19;","\t\t$loopCount = 0;","\t\techo'","\t\t\t<table class=\"ui very basic table\">","\t\t\t<tbody>","\t\t';","\t\twhile($loopCount <= $maxPaintings && $loopCount < $dataCount)","\t\t{","\t\t\techo'","\t\t\t<tr>","\t\t\t\t<td>","\t\t\t\t\t<a href=\"single-painting.php?id='.$row['PaintingID'].'\">","\t\t\t\t\t\t<img src=\"images/art/works/square-medium/'.$row['ImageFileName'].'.jpg\" alt=\"...\" id=\"artwork\">","\t\t\t\t\t</a>\t\t\t\t\t\t\t","\t\t\t\t</td>","\t\t\t\t<td>","\t\t\t\t\t<h3 class=\"ui large header\"><a href=\"single-painting.php?id='.$row['PaintingID'].'\">'.$row['Title'].'</a></h3>","\t\t\t\t\t<h2 class=\"ui sub header\"><a href=\"single-artist.php?id='.$row['ArtistID'].'\">","\t\t\t\t\t\t'.$row['FirstName'].' '.$row['LastName'].'","\t\t\t\t\t</a></h2>","\t\t\t\t\t<p>'.$row['Description'].'</p>","\t\t\t\t\t<p>$'.floor($row['MSRP']).'</p>","\t\t\t\t\t<a href=\"cart.php?id='.$row['PaintingID'].'&from=browse\">","\t\t\t\t\t\t<button class=\"ui orange button\">","\t\t\t\t\t\t\t<i class=\"shop icon\"></i>","\t\t\t\t\t\t</button>","\t\t\t\t\t</a>","\t\t\t';","\t\t\tif(!in_array($row['PaintingID'],$favArray))","\t\t\t{","\t\t\techo'\t","\t\t\t\t\t<a href=\"favorites.php?type=painting&id='.$row['PaintingID'].'\">","\t\t\t\t\t\t<button class=\"ui button\">","\t\t\t\t\t\t\t<i class=\"heart icon\"></i>","\t\t\t\t\t\t</button>","\t\t\t\t\t</a>","\t\t\t';","\t\t\t}","\t\t\telse","\t\t\t{","\t\t\t\techo'\t","\t\t\t\t\t<a href=\"favorites.php\">","\t\t\t\t\t\t<button class=\"ui button\">","\t\t\t\t\t\t\tView <i class=\"heart icon\"></i>","\t\t\t\t\t\t</button>","\t\t\t\t\t</a>","\t\t\t';","\t\t\t}","\t\t\t","\t\t\t","\t\t\techo'\t","\t\t\t\t</td>","\t\t\t</tr>';//COPYTILLHERE","\t\t\t$loopCount++;","\t\t\t$row = getNext($paintingPdo);","\t\t}","\t\t$_SESSION['favPaintings'] = serialize($paintingsObject);","\t}"]}]]},"ace":{"folds":[],"scrolltop":1896,"scrollleft":0,"selection":{"start":{"row":150,"column":2},"end":{"row":150,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":117,"state":"start","mode":"ace/mode/text"}},"timestamp":1481432053963,"hash":"a44a713aa1ee6593a7373d6a3bede0d2923906c3"}