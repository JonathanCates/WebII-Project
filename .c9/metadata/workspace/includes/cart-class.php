{"changed":false,"filter":false,"title":"cart-class.php","tooltip":"/includes/cart-class.php","value":"<?php\n    include_once \"abstract-lists.php\";\n\n    class shoppingCart extends lists\n    {\n        function getSql($id)\n        {\n            return \"SELECT MSRP, Title, PaintingID, ImageFileName FROM Paintings WHERE PaintingID = $id\";\n        }\n        \n        function getShipping($subTotal, $totalQuantity)\n        {\n            $standard;\n            $express;\n            if($subTotal > 1500)\n            {\n                $standard = 'FREE';\n                $sValue = 0;\n                if($subTotal > 2500)\n                {\n                    $express = 'FREE';\n                    $eValue = 0;\n                }\n                else\n                {\n                    $express = '$'. 50 * $totalQuantity;   \n                    $eValue = 50 * $totalQuantity;\n                }\n            }\n            else\n            {\n                $standard = '$'. 25 * $totalQuantity;\n                $sValue = 25 * $totalQuantity;\n                $express = '$'. 50 * $totalQuantity;\n                $eValue = 50 * $totalQuantity;\n            }\n            return array('standard' => $standard, 'express' => $express, 'sValue' => $sValue, 'eValue' => $eValue);\n        }\n        \n        function updateCart($newValues, $id, $cartIndex)\n        {\n            $cart = parent::getList();\n            $item = $cart[$cartIndex];\n            $change = false;\n            if($newValues['frame'] != $item['frame'])\n            {\n                $item['frame'] = $newValues['frame'];\n                $change = true;\n            }\n            if($newValues['glass'] != $item['glass'])\n            {\n                $item['glass'] = $newValues['glass'];\n                $change = true;\n            }\n            if($newValues['matt'] != $item['matt'])\n            {\n                $item['matt'] = $newValues['matt'];\n                $change = true;\n            }\n            if($newValues['quantity'] != $item['quantity'])\n            {\n                $item['quantity'] = $newValues['quantity'];\n                $change = true;\n            }\n            if($change = true)\n            {\n                parent::update($item, $cartIndex);\n            }\n        }\n    }\n\n?>","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":9,"column":8},"end":{"row":9,"column":8},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1481315816788}